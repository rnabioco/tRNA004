+ input_dir=/beevol/home/whitel/tRNAworkshop/rebasecalled/alignedbams/full_length/phage
+ output_dir=/beevol/home/whitel/tRNAworkshop/bcerror
+ ref=/beevol/home/whitel/tRNAworkshop/ref/T4_infected_ecoli.fa
+ for bam_file in '$input_dir/*.bam'
++ basename /beevol/home/whitel/tRNAworkshop/rebasecalled/alignedbams/full_length/phage/Ecoli004_20240105_1224_MN31004_FAX73799_1fe84761.rna004_130bps_sup@v5.0.0.T4ref.bwa.bam .bwa_full_length.bam
+ base_name=Ecoli004_20240105_1224_MN31004_FAX73799_1fe84761.rna004_130bps_sup@v5.0.0.T4ref.bwa.bam
+ output_file=/beevol/home/whitel/tRNAworkshop/bcerror/Ecoli004_20240105_1224_MN31004_FAX73799_1fe84761.rna004_130bps_sup@v5.0.0.T4ref.bwa.bam.tsv
+ /beevol/home/whitel/tRNAworkshop/src/get_bcerror_freqs.py /beevol/home/whitel/tRNAworkshop/rebasecalled/alignedbams/full_length/phage/Ecoli004_20240105_1224_MN31004_FAX73799_1fe84761.rna004_130bps_sup@v5.0.0.T4ref.bwa.bam /beevol/home/whitel/tRNAworkshop/ref/T4_infected_ecoli.fa /beevol/home/whitel/tRNAworkshop/bcerror/Ecoli004_20240105_1224_MN31004_FAX73799_1fe84761.rna004_130bps_sup@v5.0.0.T4ref.bwa.bam.tsv
/beevol/home/whitel/tRNAworkshop/src/get_bcerror_freqs.py: line 1: import: command not found
/beevol/home/whitel/tRNAworkshop/src/get_bcerror_freqs.py: line 2: import: command not found
/beevol/home/whitel/tRNAworkshop/src/get_bcerror_freqs.py: line 3: import: command not found
/beevol/home/whitel/tRNAworkshop/src/get_bcerror_freqs.py: line 29: $'\nThis script processes a BAM file to calculate per-nucleotide error frequencies, \nconsidering only alignments on the positive strand. The script computes metrics \nsuch as mismatch, insertion, and deletion frequencies, along with the mean quality score\nfor each position in the reference sequence.\n\nNote that this script defines Coverage as number of reads spanning a position.\nConsequently, the calculation of basecalling error frequencies are based\non the total number of reads spanning each position, whether there is a base\naligned to that exact position or not.\n\nMismatch, nt frequencies & mean quality scores are calculated based on bases mapped,\nnot spanning read coverage.\n\nThe script requires a BAM file and a corresponding FASTA file as input.\nThe results are outputted as a TSV file.\n\nWhere:\n    bam_file: Path to the input BAM file.\n    fasta_file: Path to the reference FASTA file.\n    output_tsv: Path for the output TSV file containing the error frequencies.\n\nExample:\n    python get_bcerror_freqs.py sample.bam reference.fasta output.tsv\n': command not found
/beevol/home/whitel/tRNAworkshop/src/get_bcerror_freqs.py: line 31: syntax error near unexpected token `('
/beevol/home/whitel/tRNAworkshop/src/get_bcerror_freqs.py: line 31: `def calculate_error_frequencies(bam_file, fasta_file):'
